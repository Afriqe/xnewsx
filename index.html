<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XNewsX Aggregator</title>
    <style>
        /* Your existing CSS remains unchanged */
    </style>
    <link rel="icon" type="image/x-icon" href="/xnewsx/favicon.ico">
</head>
<body>
    <div class="container">
        <h1>XNewsX Feed</h1>
        <div class="grid" id="news-grid"></div>
        <div class="ticker" id="ticker">
            <div class="ticker-content" id="ticker-content"></div>
        </div>
    </div>
    <script>
        // Define users (handles for later API use)
        const users = [
            { name: "Elon Musk X", handle: "@elonmusk", id: "elon" },
            { name: "Mario Nawfal X", handle: "@MarioNawfal", id: "mario" },
            { name: "Kevin O'Leary X", handle: "@kevinolearytv", id: "kevin" },
            { name: "Cuisine X", handle: "@CuisineX", id: "cuisine" },
            { name: "Wellness X", handle: "@WellnessX", id: "wellness" },
            { name: "World News X", handle: "@WorldNewsX", id: "world" }
        ];

        // Mock data (simulating X posts for free tier)
        const mockPosts = {
            elon: [{ text: "Teslaâ€™s latest breakthrough", link: "#", time: "2025-03-11 16:00" }],
            mario: [{ text: "Markets are wild today", link: "#", time: "2025-03-11 16:05" }],
            kevin: [{ text: "Invest in yourself", link: "#", time: "2025-03-11 16:10" }],
            cuisine: [{ text: "Spicy ramen recipe", link: "#", time: "2025-03-11 16:15" }],
            wellness: [{ text: "Morning stretch routine", link: "#", time: "2025-03-11 16:20" }],
            world: [{ text: "Global summit update", link: "#", time: "2025-03-11 16:25" }]
        };

        // Function to populate grid and ticker
        function populateContent(postsData) {
            const grid = document.getElementById("news-grid");
            const ticker = document.getElementById("ticker-content");

            users.forEach(user => {
                // Grid box
                const box = document.createElement("div");
                box.className = "box";
                box.innerHTML = `<h2>${user.name}</h2>`;
                const posts = postsData[user.id] || [];
                posts.forEach(post => {
                    box.innerHTML += `<div class="post">${post.text} <a href="${post.link}">Link</a><br><small>${post.time}</small></div>`;
                });
                grid.appendChild(box);

                // Ticker item
                posts.forEach(post => {
                    ticker.innerHTML += `<span class="ticker-item">${user.handle}: ${post.text} <a href="${post.link}">Link</a> - ${post.time}</span>`;
                });
            });
        }

        // Initial load with mock data
        populateContent(mockPosts);

        // Placeholder for real X API (uncomment with token and Basic tier)
        /*
        async function fetchXPosts(handle) {
            try {
                const response = await fetch(`https://api.twitter.com/2/users/by/username/${handle.replace('@', '')}/tweets?max_results=5`, {
                    headers: { "Authorization": "Bearer YOUR_BEARER_TOKEN" }
                });
                const data = await response.json();
                if (data.data) {
                    return data.data.map(tweet => ({
                        text: tweet.text,
                        link: `https://twitter.com/${handle}/status/${tweet.id}`,
                        time: new Date(tweet.created_at).toLocaleString()
                    }));
                }
                return [];
            } catch (error) {
                console.error(`Error fetching ${handle}:`, error);
                return [];
            }
        }

        async function loadLiveData() {
            const livePosts = {};
            for (const user of users) {
                livePosts[user.id] = await fetchXPosts(user.handle);
            }
            populateContent(livePosts);
        }
        loadLiveData();
        */
    </script>
</body>
</html>
