<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XNewsX Aggregator</title>
    <style>
        body {
            font-family: Arial, sans-serif; /* Same font: Arial */
            background-color: #ffffff; /* White background */
            color: #000000; /* Black text */
            margin: 0; /* Remove default margin for border */
            padding: 20px;
            text-align: center;
        }
        .container {
            border: 1px solid #000000; /* Fine line around the site */
            padding: 20px;
            max-width: 1200px; /* Limit width for newspaper feel */
            margin: 0 auto; /* Center the container */
        }
        h1 {
            color: #000000; /* Black for the header */
            font-size: 2em;
            margin-bottom: 20px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Newspaper-style grid */
            gap: 20px; /* Space between boxes */
        }
        .box {
            border: 1px solid #000000; /* Thin border around each box */
            padding: 10px;
            text-align: left;
        }
        .box h2 {
            font-size: 1.2em;
            margin-bottom: 10px;
            border-bottom: 1px solid #000000; /* Underline the title */
            padding-bottom: 5px;
        }
        .post {
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        a {
            color: #000000; /* Black links */
            text-decoration: underline; /* Simple underline for links */
        }
        a:hover {
            color: #000000; /* No hover effect for simplicity */
        }
        small {
            color: #666666; /* Gray for timestamps */
            font-size: 0.8em;
        }
        .ticker {
            overflow: hidden; /* Hide overflow content */
            white-space: nowrap; /* Prevent text wrapping */
            border: 1px solid #000000; /* Thin border */
            margin-top: 20px; /* Space above ticker */
            padding: 5px 0; /* Vertical padding */
            font-size: 0.9em; /* Match post text size */
        }
        .ticker-content {
            display: inline-block;
            animation: scroll 20s linear infinite; /* Scroll animation */
        }
        .ticker-item {
            display: inline-block;
            margin-right: 20px; /* Space between items */
        }
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
    </style>
    <link rel="icon" type="image/x-icon" href="/xnewsx/favicon.ico">
</head>
<body>
    <div class="container">
        <h1>XNewsX Feed</h1>
        <div class="grid">
            <!-- Box 1: Elon Musk X -->
            <div class="box">
                <h2>Elon Musk X</h2>
                <div class="post">Elon announces new Tesla model <a href="https://example.com/tesla">Link</a><br><small>2025-03-10 12:00</small></div>
                <div class="post">SpaceX launch successful <a href="https://example.com/spacex">Link</a><br><small>2025-03-10 11:30</small></div>
                <div class="post">Neuralink update released <a href="https://example.com/neuralink">Link</a><br><small>2025-03-10 11:00</small></div>
                <div class="post">Elon comments on AI <a href="https://example.com/ai">Link</a><br><small>2025-03-10 10:30</small></div>
                <div class="post">Tesla factory expansion <a href="https://example.com/factory">Link</a><br><small>2025-03-10 10:00</small></div>
            </div>
            <!-- Box 2: Mario Nawfal X -->
            <div class="box">
                <h2>Mario Nawfal X</h2>
                <div class="post">Mario on global markets <a href="https://example.com/markets">Link</a><br><small>2025-03-10 12:00</small></div>
                <div class="post">Breaking news discussion <a href="https://example.com/breaking">Link</a><br><small>2025-03-10 11:30</small></div>
                <div class="post">Crypto trends update <a href="https://example.com/crypto">Link</a><br><small>2025-03-10 11:00</small></div>
                <div class="post">Mario hosts Spaces <a href="https://example.com/spaces">Link</a><br><small>2025-03-10 10:30</small></div>
                <div class="post">Tech startup insights <a href="https://example.com/startup">Link</a><br><small>2025-03-10 10:00</small></div>
            </div>
            <!-- Box 3: Kevin O'Leary X -->
            <div class="box">
                <h2>Kevin O'Leary X</h2>
                <div class="post">Kevin on Shark Tank <a href="https://example.com/sharktank">Link</a><br><small>2025-03-10 12:00</small></div>
                <div class="post">Investment tips shared <a href="https://example.com/invest">Link</a><br><small>2025-03-10 11:30</small></div>
                <div class="post">O'Leary on economy <a href="https://example.com/economy">Link</a><br><small>2025-03-10 11:00</small></div>
                <div class="post">New business venture <a href="https://example.com/venture">Link</a><br><small>2025-03-10 10:30</small></div>
                <div class="post">Financial advice post <a href="https://example.com/finance">Link</a><br><small>2025-03-10 10:00</small></div>
            </div>
            <!-- Box 4: Cuisine X -->
            <div class="box">
                <h2>Cuisine X</h2>
                <div class="post">New recipe for pasta <a href="https://example.com/pasta">Link</a><br><small>2025-03-10 12:00</small></div>
                <div class="post">Vegan dessert ideas <a href="https://example.com/vegan">Link</a><br><small>2025-03-10 11:30</small></div>
                <div class="post">Spicy ramen challenge <a href="https://example.com/ramen">Link</a><br><small>2025-03-10 11:00</small></div>
                <div class="post">BBQ tips for summer <a href="https://example.com/bbq">Link</a><br><small>2025-03-10 10:30</small></div>
                <div class="post">French pastry tutorial <a href="https://example.com/pastry">Link</a><br><small>2025-03-10 10:00</small></div>
            </div>
            <!-- Box 5: Wellness X -->
            <div class="box">
                <h2>Wellness X</h2>
                <div class="post">Morning yoga routine <a href="https://example.com/yoga">Link</a><br><small>2025-03-10 12:00</small></div>
                <div class="post">Meditation benefits <a href="https://example.com/meditation">Link</a><br><small>2025-03-10 11:30</small></div>
                <div class="post">Healthy smoothie recipe <a href="https://example.com/smoothie">Link</a><br><small>2025-03-10 11:00</small></div>
                <div class="post">Sleep improvement tips <a href="https://example.com/sleep">Link</a><br><small>2025-03-10 10:30</small></div>
                <div class="post">Stress relief guide <a href="https://example.com/stress">Link</a><br><small>2025-03-10 10:00</small></div>
            </div>
            <!-- Box 6: World News X -->
            <div class="box">
                <h2>World News X</h2>
                <div class="post">Global climate summit <a href="https://example.com/climate">Link</a><br><small>2025-03-10 12:00</small></div>
                <div class="post">Election results update <a href="https://example.com/election">Link</a><br><small>2025-03-10 11:30</small></div>
                <div class="post">Economic forecast 2025 <a href="https://example.com/economy">Link</a><br><small>2025-03-10 11:00</small></div>
                <div class="post">Peace talks progress <a href="https://example.com/peace">Link</a><br><small>2025-03-10 10:30</small></div>
                <div class="post">Tech regulation news <a href="https://example.com/tech">Link</a><br><small>2025-03-10 10:00</small></div>
            </div>
        </div>
        <!-- Live X Feed Ticker -->
        <div class="ticker" id="ticker">
            <div class="ticker-content" id="tickerContent">
                <!-- Tweets will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // Add CORS proxy workaround
        (function() {
            var cors_api_host = 'cors-anywhere.herokuapp.com';
            var cors_api_url = 'https://' + cors_api_host + '/';
            var slice = [].slice;
            var origin = window.location.protocol + '//' + window.location.host;
            var open = XMLHttpRequest.prototype.open;
            XMLHttpRequest.prototype.open = function() {
                var args = slice.call(arguments);
                var targetOrigin = /^https?:\/\/([^\/]+)/i.exec(args[1]);
                if (targetOrigin && targetOrigin[0].toLowerCase() !== origin &&
                    targetOrigin[1] !== cors_api_host) {
                    args[1] = cors_api_url + args[1];
                }
                return open.apply(this, args);
            };
        })();

        const token = "AAAAAAAAAAAAAAAAAAAAAN1RzwEAAAAA%2B2Mmr3o4sZ8qLRYrtU6%2BRY5kvnc%3DiyLAXcuVX2yN59MpbEMTdg2tLME0lLpGyg94viAeTELNc8LOuS"; // Replace with your actual Bearer Token
        const categories = [
            { name: "Elon Musk", query: "from:elonmusk" },
            { name: "Mario Nawfal", query: "from:marionawfal" },
            { name: "Kevin O'Leary", query: "from:kevinolearytv" },
            { name: "Cuisine", query: "cuisine -is:retweet" },
            { name: "Wellness", query: "wellness -is:retweet" },
            { name: "World News", query: "world news -is:retweet" }
        ];

        async function fetchTweets() {
            const tickerContent = document.getElementById("tickerContent");
            tickerContent.innerHTML = ""; // Clear existing content

            for (const category of categories) {
                const apiUrl = `https://api.x.com/2/tweets/search/recent?query=${encodeURIComponent(category.query)}&tweet.fields=created_at`;
                try {
                    const response = await fetch(apiUrl, {
                        headers: {
                            "Authorization": `Bearer ${token}`,
                            "Content-Type": "application/json"
                        }
                    });
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    const data = await response.json();
                    if (data.data && data.data.length > 0) {
                        const tweet = data.data[0]; // Take the most recent tweet
                        const tweetText = tweet.text.length > 50 ? tweet.text.substring(0, 47) + "..." : tweet.text;
                        const tweetLink = `https://x.com/user/status/${tweet.id}`; // Placeholder link
                        const tickerItem = document.createElement("span");
                        tickerItem.className = "ticker-item";
                        tickerItem.innerHTML = `${category.name}: ${tweetText} <a href="${tweetLink}" target="_blank">Link</a> - ${new Date(tweet.created_at).toLocaleTimeString()}`;
                        tickerContent.appendChild(tickerItem);
                    }
                } catch (error) {
                    console.error(`Error fetching tweets for ${category.name}:`, error);
                    const tickerItem = document.createElement("span");
                    tickerItem.className = "ticker-item";
                    tickerItem.innerHTML = `${category.name}: Error fetching tweet`;
                    tickerContent.appendChild(tickerItem);
                }
            }
        }

        // Initial fetch
        fetchTweets();

        // Refresh every 5 minutes (300,000 milliseconds)
        setInterval(fetchTweets, 300000);
    </script>
</body>
</html>
